<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="author" name="zooduck">
        <title>Responsive Image Examples by ZOODUCK on 23 September 2018</title>
        <style>
            * {
                box-sizing: border-box;
            }
            body {
                margin: 0 auto;
                max-width: 1024px;
                padding: 10px;
                font-family: Calibri, sans-serif;
            }
            img {
                max-width: 100%;
            }
            pre {
                background-color: #eee;
                padding: 5px;
                overflow: scroll;
            }
            code {
                font-family: Calibri, sans-serif;
                background-color: #eee;
                color: #222;
                padding: 0 4px;
            }
            ol {
                list-style-type: "A"
            }
            aside {
                margin: 0 40px;
                background-color: aliceblue;
            }
            aside p {
                padding: 10px 10px 0 10px;
            }
            aside p:last-of-type {
                padding-bottom: 10px;
            }
            h2 + div {
                margin-top: -15px;
                background-color: #333;
                color: #fff;
                padding: 5px;
                font-size: 1.2em;
            }
            .hero-image {
                background-color: cyan;
                padding: 10px;
            }
            .hero-image:nth-of-type(2) {
                background-color: yellow;
            }
            .gallery-links {
                display: grid;
                grid-template-columns: auto auto auto;
                grid-gap: 10px;
                padding: 10px;
                background-color: magenta;
            }
            @media (max-width: 420px) {
                .gallery-links {
                    grid-template-columns: auto;
                }
            }
        </style>
    </head>
    <body>

        <header>
            <h1>Responsive Image Examples</h1>
            <p>by ZOODUCK on 23 September 2018</p>
        </header>

        <p>If we want the browser to fetch a different image based on a device's viewport or display density, or the
            size of an image element in the page, we can use either:
            <ol>
                <li>The <code>&lt;picture&gt;</code> and <code>&lt;source&gt;</code> elements.</li>
                <li>The <code>srcset</code> and <code>sizes</code> attributes of the <code>&lt;img&gt;</code> element, along with <cite>width descriptors</cite>.</li>
                <li>The <code>srcset</code> attribute of the <code>&lt;img&gt;</code> element, along with <cite>display density descriptors</cite>.</li>
            </ol>
        </p>

        <p>
            The examples below (<a href='#hero_image_a'>Hero Image A</a> and <a href="#hero_image_b">Hero Image B</a>) illustrate two possible ways in which responsive images can be used, based on the first two methods in the list.
        </p>

        <p>
            The last example (<a href="#thumbnails">Thumbnails</a>) illustrates a scenario in which 
            the utilisation of <code>srcset</code> or <code>&lt;picture&gt;</code>
            might be deemed overkill (adding complexity to the process with little or no benefit).
        </p>

        <aside>
            <p>
                Try viewing this page on a mobile device and watch how the images change when you switch between portrait and landscape modes.
            </p>
            <p>
                If you are viewing this page on a desktop, I would recommend using your browser's device tools and disabling the cache.
            </p>
            <p>
                (Failing that, you could just manually resize the browser to observe which images get served at different viewport widths).
            </p>
        </aside>
       
        <h2 id="hero_image_a">Hero Image A</h2>
        <div>&lt;picture&gt; + &lt;source media srcset&gt;</div>

        <p>
            Here we are using both <strong>Art Direction</strong> <cite>and</cite> <strong>Resolution Switching</strong>. The browser is <cite>directed</cite> to load a specific image file
            based on media conditions set on the <code>&lt;source&gt;</code> element.
        </p>
        <p>
            It will <cite>always</cite> load the image for the <cite>first matching media condition</cite>.
        </p>
       
<pre>
&lt;div class="hero-image"&gt;
    &lt;picture&gt;
        &lt;!-- mobile portrait (0 to 420) --&gt;
        &lt;source media="(max-width: 420px)" srcset="img/portrait/mobile/DSC_4331__mobile_portrait_414w_.JPG 414w"&gt;
        &lt;!-- mobile landscape (421 to 767) --&gt;
        &lt;source media="(max-width: 767px)" srcset="img/1024/DSC_4331__1024w_.JPG 1024w"&gt;
        &lt;!--iPhone X, Pixel 2 XL landscape (812 to 824) --&gt;
        &lt;source media="(min-width: 812px) and (max-width: 824px)" srcset="img/1024/DSC_4331__1024w_.JPG 1024w"&gt;
        &lt;!-- tablet portrait (768 to 1023) --&gt;
        &lt;source media="(max-width: 1023px)" srcset="img/portrait/tablet/DSC_4331__tablet_portrait_1024w_.JPG 1024w"&gt;
        &lt;!-- resolution switching... --&gt;
        &lt;source media="(max-width: 1024px)" srcset="img/1024/DSC_4331__1024w_.JPG 1024w"&gt;
        &lt;source media="(max-width: 1366px)" srcset="img/1366/DSC_4331__1366w_.JPG 1366w"&gt;
        &lt;source media="(max-width: 1920px)" srcset="img/1920/DSC_4331__1920w_.JPG 1920w"&gt;
        &lt;source media="(max-width: 2560px)" srcset="img/2560/DSC_4331__2560w_.JPG 2560w"&gt;
        &lt;source media="(min-width: 2561px)" srcset="img/3840/DSC_4331_.JPG 3840w"&gt;
        &lt;!-- default --&gt;
        &lt;img
            src="img/1920/DSC_4331__1920w_.JPG"
            alt="Kylie Minogue with The Muppets at the O2 Arena, London 2018"&gt;
    &lt;/picture&gt;
&lt;/div&gt;
</pre>

        <!-- NOTE: Requires Art Direction (for portrait mode) AND Resolution Switching (for landscape mode) -->
        <div class="hero-image">
            <picture>
                <!-- mobile portrait (0 to 420) -->
                <source media="(max-width: 420px)" srcset="img/portrait/mobile/DSC_4331__mobile_portrait_414w_.JPG 414w">
                <!-- mobile landscape (421 to 767) -->
                <source media="(max-width: 767px)" srcset="img/1024/DSC_4331__1024w_.JPG 1024w">
                <!--iPhone X, Pixel 2 XL landscape (812 to 824) -->
                <source media="(min-width: 812px) and (max-width: 824px)" srcset="img/1024/DSC_4331__1024w_.JPG 1024w">
                <!-- tablet portrait (768 to 1023) -->
                <source media="(max-width: 1023px)" srcset="img/portrait/tablet/DSC_4331__tablet_portrait_1024w_.JPG 1024w">
                <!-- resolution switching... -->
                <source media="(max-width: 1024px)" srcset="img/1024/DSC_4331__1024w_.JPG 1024w">
                <source media="(max-width: 1366px)" srcset="img/1366/DSC_4331__1366w_.JPG 1366w">
                <source media="(max-width: 1920px)" srcset="img/1920/DSC_4331__1920w_.JPG 1920w">
                <source media="(max-width: 2560px)" srcset="img/2560/DSC_4331__2560w_.JPG 2560w">
                <source media="(min-width: 2561px)" srcset="img/3840/DSC_4331_.JPG 3840w">
                <!-- default -->
                <img
                    src="img/1920/DSC_4331__1920w_.JPG"
                    alt="Kylie Minogue with The Muppets at the O2 Arena, London 2018">
                <figcaption>Photo by Wesley Pumpkinhead</figcaption>
            </picture>
        </div>

        <h2 id='hero_image_b'>Hero Image B</h2>
        <div>&lt;img srcset sizes&gt;</div>

        <p>Here we are using <strong>Resolution Switching</strong> <cite>only</cite>. The browser decides which image is best,
            using the width descriptors at the end of each file path in the <code>srcset</code>, along with  the
            media conditions in the <code>sizes</code> attribute.
        </p>

        <p>
            So, for example if our <code>sizes</code> declaration was simply: <code>sizes="(min-width: 1920px) 33vw"</code> we would be telling the browser
            that when the viewport width is 1920px or greater, the image is going to be displayed at 33% of the viewport width.
        </p>

        <p>
            The browser then chooses the most appropriate image from the <code>srcset</code>. In this case, if the viewport was 1920px, we
            would require an image width of (1920 * 0.33) = 634px. The image that most closely matches that size in our <code>srcset</code>
            is <code>DSC_4331__1024w_.JPG</code> which has a declarative width of <code>1024w</code> - so in this case we would expect the browser
            to choose that one (as its width is closer to 634px than any of the others).
        </p>

        <section>
            <h3>Notes</h3>
            <ul>
                <li>The browser may not always choose the image we expect! It could, for example, choose a higher resolution image (maybe it detected a higher
                    pixel density from the display), or it might choose a lower resolution image (maybe it detected low bandwidth).
                    <p>
                        The point is, that we trust the browser to make the final decision as it is privy to a host of real-time factors that we cannot predict.
                    </p>
                </li>
    
                <li>If an image for a much higher resolution has <cite>already been fetched</cite> by the browser, the browser will always use that image
                    <cite>in instances where a lower resolution image would have been sufficient</cite>.
                    <p>
                        (This is quite different to the way that the <code>&lt;picture&gt;</code> and its associated <code>&lt;source&gt;</code> elements work.
                        In that case, the browser will <cite>always</cite> fetch the image that you direct it to).
                    </p> 
                </li>
            </ul>
        </section>

<pre>
&lt;div class="hero-image"&gt;
    &lt;img
        srcset="img/1024/DSC_4331__1024w_.JPG 1024w,
                img/1366/DSC_4331__1366w_.JPG 1366w,
                img/1920/DSC_4331__1920w_.JPG 1920w,
                img/2560/DSC_4331__2560w_.JPG 2560w,
                img/3840/DSC_4331_.JPG 3840w"
        sizes="(max-width: 1024px) 100vw,
                (max-width: 1366px) 100vw,
                (max-width: 1920px) 100vw,
                (max-width: 2560px) 100vw,
                (min-width: 2561px) 100vw,
                1024px"
        src="img/1920/DSC_4331__1920w_.JPG"
        alt="Kylie Minogue with The Muppets at the O2 Arena, London 2018"&gt;
&lt;/div&gt;
</pre>

        <!-- NOTE: Resolution Switching ONLY -->
        <div class="hero-image">
            <img
                srcset="img/1024/DSC_4331__1024w_.JPG 1024w,
                        img/1366/DSC_4331__1366w_.JPG 1366w,
                        img/1920/DSC_4331__1920w_.JPG 1920w,
                        img/2560/DSC_4331__2560w_.JPG 2560w,
                        img/3840/DSC_4331_.JPG 3840w"
                sizes="(max-width: 1024px) 100vw,
                       (max-width: 1366px) 100vw,
                       (max-width: 1920px) 100vw,
                       (max-width: 2560px) 100vw,
                       (min-width: 2561px) 100vw,
                       1024px"
                src="img/1920/DSC_4331__1920w_.JPG"
                alt="Kylie Minogue with The Muppets at the O2 Arena, London 2018">
            <figcaption>Photo by Wesley Pumpkinhead</figcaption>
        </div>

        <!-- NOTE: 
            We can use a single resolution for the thumbnail images to cover all scenarios
            as quality control can be acheived with styles and @media queries alone, for example:
            - 3 images per row for all landscape variants AND tablet portrait
            - 1 image per row for mobile portrait
        -->
        <h2 id="thumbnails">Thumbnails</h2>
        <div>&lt;img&gt;</div>

        <p>
            Here we are using <strong>CSS</strong> <cite>only</cite>.
        </p>
        <p>
            In this instance, we have an image that is just 455 x 341 pixels with a file size of just 70 KB.
        </p>
        <p>
            Our layout dictates that the image will never occupy a width greater than 455 pixels on the page, so it
            makes more sense to just use the standard <code>&lt;img&gt;</code> element and <code>src</code> attribute
            instead.
        </p>
<pre>
&lt;style&gt;
    .gallery-links {
        display: grid;
        grid-template-columns: auto auto auto;
        grid-gap: 10px;
        padding: 10px;
        background-color: magenta;
    }
    @media (max-width: 420px) {
        .gallery-links {
            grid-template-columns: auto;
        }
    }
&lt;/style&gt;
</pre>
<pre>
&lt;div class="gallery-links"&gt;
    &lt;img 
        src="img/thumb/DSC_4331__thumb_.JPG"
        alt="Thumbnail link for Kylie Minogue and The Muppets at the O2 Arena, London 2018"&gt;
    &lt;img
        src="img/thumb/DSC_4331__thumb_.JPG"
        alt="Thumbnail link for Kylie Minogue and The Muppets at the O2 Arena, London 2018"&gt;
    &lt;img
        src="img/thumb/DSC_4331__thumb_.JPG"
        alt="Thumbnail link for Kylie Minogue and The Muppets at the O2 Arena, London 2018"&gt;
&lt;/div&gt;
</pre>
        <div class="gallery-links">
            <img 
                src="img/thumb/DSC_4331__thumb_.JPG"
                alt="Thumbnail link for Kylie Minogue with The Muppets at the O2 Arena, London 2018">
            <img
                src="img/thumb/DSC_4331__thumb_.JPG"
                alt="Thumbnail link for Kylie Minogue with The Muppets at the O2 Arena, London 2018">
            <img
                src="img/thumb/DSC_4331__thumb_.JPG"
                alt="Thumbnail link for Kylie Minogue with The Muppets at the O2 Arena, London 2018">
        </div>
    </body>
</html>
